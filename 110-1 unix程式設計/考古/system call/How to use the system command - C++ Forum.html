<!DOCTYPE html>
<!-- saved from url=(0047)http://www.cplusplus.com/forum/beginner/109352/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>How to use the system command - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="http://www.cplusplus.com/favicon.ico">
<link rel="stylesheet" type="text/css" href="./How to use the system command - C++ Forum_files/main.css">
<script type="text/javascript" async="" src="./How to use the system command - C++ Forum_files/ga.js"></script><script src="./How to use the system command - C++ Forum_files/ca-pub-1444228343479937.js"></script><script async="" type="text/javascript" src="./How to use the system command - C++ Forum_files/gpt.js"></script><script src="./How to use the system command - C++ Forum_files/main.js" type="text/javascript"></script>
<script type="text/javascript">
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type="text/javascript">
googletag.cmd.push(function() {
googletag.defineSlot('/32882001/L', [728, 90], 'div-gpt-ad-1427191279638-0').addService(googletag.pubads());
googletag.enableServices();
});
</script>
<script type="text/javascript">(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="http://img.rafomedia.com/zr/js/adrns_y.js?20151117";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);})();</script><script src="./How to use the system command - C++ Forum_files/pubads_impl_75.js" async=""></script><script src="./How to use the system command - C++ Forum_files/expansion_embed.js"></script></head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="http://www.cplusplus.com/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="http://www.cplusplus.com/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="http://www.cplusplus.com/forum/">Forum</a></li>
<li><a href="http://www.cplusplus.com/forum/beginner/">Beginners</a></li>
<li class="here">How to use the system command</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span><div id="I_corner" style="display: block;"><div id="I_cornerinner"><div id="I_userid">Not logged in</div></div></div><div id="I_userbuttons"><a href="http://www.cplusplus.com/user/access.cgi?w=signup">register</a><a id="I_btnlogin" href="javascript:LBI_user.modal(1)">log in</a></div><div id="I_fold" style="display: none;"><div class="deco"></div><form name="I_loginform" id="I_loginform" action="http://www.cplusplus.com/user/access.cgi" onsubmit="LBI_user.login(); return false;" method="post" style="display: none;"><div class="fields"><input type="hidden" name="w" value="login"><input type="hidden" name="y" value="1"><input type="hidden" name="to" value="http://www.cplusplus.com/forum/beginner/109352/">user name: <input class="txt" name="l" size="8" type="text" title="Type user name"><br>password: <input class="txt" name="p" size="8" type="password" title="Type password"><br><input class="chk" name="rememberme" id="rememberme" value="1" type="checkbox"><label for="rememberme">remember me</label>&nbsp;<input class="btn" value="sign in" type="submit"><br><div class="forgot"><a href="http://www.cplusplus.com/user/access.cgi?w=lostpass">forgot your password?</a></div></div><div class="openid">or sign in using:<br><a class="google" href="http://www.cplusplus.com/user/access.cgi?w=login&y=1&pr=google&to=%2Fforum%2Fbeginner%2F109352%2F" title="Sign in using your google account"><span></span></a><a class="yahoo" href="http://www.cplusplus.com/user/access.cgi?w=login&y=1&pr=yahoo&to=%2Fforum%2Fbeginner%2F109352%2F" title="Sign in using your Yahoo! account"><span></span></a> </div></form><div id="I_loginwait" style="display: none;"></div><div id="I_loginfail" style="display: none;"><div id="I_loginfailtext"></div><a class="C_bRepeat" href="javascript:LBI_user.modal(1)">try again</a><a class="C_bCancel" href="javascript:LBI_user.modal(0)">cancel</a><div class="forgot"><a href="http://www.cplusplus.com/user/access.cgi?w=lostpass">forgot your password?</a></div></div><div class="close"><a href="javascript:LBI_user.modal(0)" title="cancel log in"><span></span></a></div></div></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight" style="height: 513px;"></div>
<div id="I_main">
<div class="C_support">
<div id="div-gpt-ad-1427191279638-0" style="width:728px; height:90px;">
<script type="text/javascript">
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1427191279638-0'); });
</script>
<div id="google_ads_iframe_/32882001/L_0__container__" style="border: 0pt none; display: inline-block; width: 728px; height: 90px;"><iframe width="728" height="90" frameborder="0" scrolling="no" allowtransparency="true" src="./How to use the system command - C++ Forum_files/restricted.html"></iframe></div><iframe id="google_ads_iframe_/32882001/L_0__hidden__" name="google_ads_iframe_/32882001/L_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom; visibility: hidden; display: none;"></iframe></div>
</div>
<div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> How to use the system command</h3><span id="CH_edttl"></span><span class="rootdatPost" title="109352,root,0,-1,18,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg595492"><span title="595492,89544,1023,74,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595492" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm12e55dc7b7" title="Mon, 26 Aug 2013 21:42:55 +0000">Aug 27, 2013 at 5:42am</span><script type="text/javascript">WhenId('CH_zTm12e55dc7b7');</script><noscript>Aug 26, 2013 at 9:42pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/tatai/"><b>tatai</b> (74)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595492">
I am trying to use the system() to open the command prompt. I want to copy all txt files in F:/AMBIENT/grid into one txt file. I am using the following command. This is opening the cmd prompt but not opening the F: or coping files into one file. I think I am doing some error in putting the syntax in the system().<br>
<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></code></pre></td>
<td class="source"><pre><code>  <dfn>#include&lt;stdio.h&gt;</dfn>
<dfn>#include&lt;iostream&gt;</dfn>
<var>using</var> <var>namespace</var> std;
<var>void</var> main()
{
	
	system(<kbd>"start cmd.exe F:/AMBIENT/grid copy *.txt new.txt"</kbd>);

system(<kbd>"pause"</kbd>);
}</code></pre></td><td class="C_btnholder"><div class="C_shell"><div class="inner"><div class="btn trans_half"><a href="http://www.cplusplus.com/forum/beginner/109352/#" title="Open C++ Shell (in a new window)" target="_top"><span class="C_ico settings"></span> Edit &amp; Run</a></div></div></div></td></tr></tbody></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595492"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595496"><span title="595496,89208,1023,499,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595496" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm640713cc67" title="Mon, 26 Aug 2013 21:56:02 +0000">Aug 27, 2013 at 5:56am</span><script type="text/javascript">WhenId('CH_zTm640713cc67');</script><noscript>Aug 26, 2013 at 9:56pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/Techno01/"><b>Techno01</b> (499)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595496">
Do you want to copy a *.txt located in F:/AMBIENT/grid ,am I right?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595496"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595497"><span title="595497,65107,1023,2796,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595497" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTme0335a7fd2" title="Mon, 26 Aug 2013 21:56:10 +0000">Aug 27, 2013 at 5:56am</span><script type="text/javascript">WhenId('CH_zTme0335a7fd2');</script><noscript>Aug 26, 2013 at 9:56pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/Stewbond/"><b>Stewbond</b> (2796)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595497">
the command prompt is another shell that can be used to do system commands. <br>
<br>
<span class="auto"><code class="source">system(<kbd>"something"</kbd>);</code></span> is the same thing as typing "something" into the command prompt, or putting "something" in a .bat file.<br>
<br>
That being said, I think the command: <span class="auto"><code class="source">copy *.txt <var>new</var>.txt</code></span> is not going to work.  try it in the command prompt first, but I think that new.txt will just be a copy of the last .txt file in the current folder.<br>
<br>
I think what you want is: <br>
<span class="auto"><code class="source">echo *.txt &gt;&gt; <var>new</var>.txt</code></span>  I <i>think</i> that echo will display the contents of each .txt file in your console.  The &gt; will redirect the output to new.txt. The &gt;&gt; will ensure that it appends the current file.<br>
<br>
In a system command this would look like this (though I can't test it because I'm on Linux). <br>
<span class="auto"><code class="source">system(<kbd>"echo *.txt &gt;&gt; new.txt"</kbd>);</code></span><br>
<br>
That being said, NEVER use system.  You can do the same thing with the &lt;fstream&gt; library.  If you really wanted to be windows specific, you could use the WinAPI &lt;windows.h&gt;.  The system command is so bad that some anti-virus software will flag your exe as a virus if it's used too often.  Let's say I have a file "echo.exe" in the current directory.   Well instead of actually running the intended "echo", we've just run some random executable.  That's not good!  We have no idea what just happened.  Your code may look like it worked properly, but you may have also just uploaded your documents to some pirate's FTP.<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595497"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595535"><span title="595535,62677,1023,3957,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595535" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm596368e89b" title="Tue, 27 Aug 2013 00:17:39 +0000">Aug 27, 2013 at 8:17am</span><script type="text/javascript">WhenId('CH_zTm596368e89b');</script><noscript>Aug 27, 2013 at 12:17am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/andywestken/"><b>andywestken</b> (3957)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595535">
copy does support wild cards, but you need to ensure the copy target doesn't match the wild card or you'll end up with 2 x the expected output (as the last action of type will be to copy the latest file, new.txt, into new.txt.)<br>
<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="output"><pre><samp>copy *.txt new.foo &amp;&amp; rename new.foo *.txt</samp></pre></td></tr></tbody></table></div><br>
And <u>type</u> is the command you need, not <u>echo</u>. Same deal for name wrt to the wildcard.<br>
<br>
But, as Stewbond has already mentioned, you should be using system in the first place...<br>
<br>
Andy<br>
<br>
PS As echo and type are actual shell commands, sneaking an exe file with these names into a folder on the path (or your local directory) has no effect. But cmd.exe and copy.exe are another matter.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmf367fd19b2" title="Tue, 27 Aug 2013 00:43:50 +0000">Aug 27, 2013 at 8:43am</span><script type="text/javascript">WhenId('CH_zTmf367fd19b2');</script><noscript>Aug 27, 2013 at 12:43am UTC</noscript></span>
<span class="dbtn" id="CH_btn595535"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595537"><span title="595537,9110,5119,10021,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595537" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTme2aa2c34d2" title="Tue, 27 Aug 2013 00:38:15 +0000">Aug 27, 2013 at 8:38am</span><script type="text/javascript">WhenId('CH_zTme2aa2c34d2');</script><noscript>Aug 27, 2013 at 12:38am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/Duoas/"><b>Duoas</b> (10021)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595537">
@<b>Stewbond</b><br>
You ought to try it out or read some docks before saying anything. The cmd.com copy command will concatentate all source files into the destination, so OP's copy command works just fine.<br>
<br>
@<b>tatai</b><br>
The problem is that you need to read the documentation for <tt>start</tt>. (Sorry)<br>
<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;cstdlib&gt;</dfn>
<var>using</var> <var>namespace</var> std;

<var>int</var> main()
  {
  system(<kbd>"start /d foo /wait /b %ComSpec% /c copy *.txt new.txt &gt;nul 2&gt;&amp;1"</kbd>);
  }</code></pre></td><td class="C_btnholder"><div class="C_shell"><div class="inner"><div class="btn trans_half"><a href="http://www.cplusplus.com/forum/beginner/109352/#" title="Open C++ Shell (in a new window)" target="_top"><span class="C_ico settings"></span> Edit &amp; Run</a></div></div></div></td></tr></tbody></table></div>
<br>
You really could do it very easily in pure C++ though, and avoid all the problems with <tt>system()</tt>.<br>
<br>
Hope this helps.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595537"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595546"><span title="595546,37152,1023,7971,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595546" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm2cbbc4240c" title="Tue, 27 Aug 2013 01:38:36 +0000">Aug 27, 2013 at 9:38am</span><script type="text/javascript">WhenId('CH_zTm2cbbc4240c');</script><noscript>Aug 27, 2013 at 1:38am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/ne555/"><b>ne555</b> (7971)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595546">
¿is consistency too much to ask?<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="output"><pre><samp>\&gt; copy i?.txt test\new.txt
i1.txt
i2.txt
i3.txt
i4.txt
   1 files copied

\&gt; copy i1.txt i2.txt i3.txt i4.txt test\new.txt
The syntax of the command is incorrect

\&gt; copy i1.txt+i2.txt + i3.txt+i4.txt test\new.txt
i1.txt
i2.txt
i3.txt
i4.txt
   1 files copied</samp></pre></td></tr></tbody></table></div><br>
<br>
&gt; copy does support wild cards<br>
I thought that it was the shell that expands them, before passing it as arguments to the program
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm0d1d9b2e9a" title="Tue, 27 Aug 2013 01:42:06 +0000">Aug 27, 2013 at 9:42am</span><script type="text/javascript">WhenId('CH_zTm0d1d9b2e9a');</script><noscript>Aug 27, 2013 at 1:42am UTC</noscript></span>
<span class="dbtn" id="CH_btn595546"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595547"><span title="595547,9110,5119,10021,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595547" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTmc2db0e7906" title="Tue, 27 Aug 2013 01:48:23 +0000">Aug 27, 2013 at 9:48am</span><script type="text/javascript">WhenId('CH_zTmc2db0e7906');</script><noscript>Aug 27, 2013 at 1:48am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/Duoas/"><b>Duoas</b> (10021)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595547">
Yes, but cmd.exe is actually pretty smart about trying to copy a file into itself.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595547"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595624"><span title="595624,89544,1023,74,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595624" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTme77dd13b1b" title="Tue, 27 Aug 2013 09:35:41 +0000">Aug 27, 2013 at 5:35pm</span><script type="text/javascript">WhenId('CH_zTme77dd13b1b');</script><noscript>Aug 27, 2013 at 9:35am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/tatai/"><b>tatai</b> (74)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595624">
Instead of using the system() i have tried the same like this<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br></code></pre></td>
<td class="source"><pre><code><dfn>#include&lt;iostream&gt;</dfn>
<dfn>#include&lt;fstream&gt;</dfn>
<dfn>#include&lt;sstream&gt;</dfn>


<var>using</var> <var>namespace</var> std;
<var>void</var> main()
{
	
	<var>for</var>(<var>int</var> i=1; i&lt;6; i++)
	{
stringstream sum;
sum&lt;&lt;<kbd>"summary_"</kbd>&lt;&lt;i&lt;&lt;<kbd>".out"</kbd>;
string summary= sum.str();
	
	ifstream normal(summary);
	ofstream newfile(<kbd>"new.txt"</kbd>);

	newfile&lt;&lt;normal.rdbuf();
	
	}



system(<kbd>"pause"</kbd>);

}</code></pre></td><td class="C_btnholder"><div class="C_shell"><div class="inner"><div class="btn trans_half"><a href="http://www.cplusplus.com/forum/beginner/109352/#" title="Open C++ Shell (in a new window)" target="_top"><span class="C_ico settings"></span> Edit &amp; Run</a></div></div></div></td></tr></tbody></table></div>
<br>
<br>
but it is not running properly. just taking the output form summary_1.out in the new.txt!! I think there is problem with the FOR loop!!
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595624"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595626"><span title="595626,75536,1023,7153,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595626" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm8d32fee7e3" title="Tue, 27 Aug 2013 09:58:22 +0000">Aug 27, 2013 at 5:58pm</span><script type="text/javascript">WhenId('CH_zTm8d32fee7e3');</script><noscript>Aug 27, 2013 at 9:58am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/JLBorges/"><b>JLBorges</b> (7153)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595626">
<div class="auto"><table class="snippet"><tbody><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;fstream&gt;</dfn>
<dfn>#include &lt;sstream&gt;</dfn>
<dfn>#include &lt;string&gt;</dfn>

<var>int</var> main() <cite>// main must return int</cite>
{
    <var>constexpr</var> <var>int</var> NFILES = 6 ;
    <var>const</var> std::string prefix = <kbd>"summary"</kbd> ;
    <var>const</var> std::string ext = <kbd>".out"</kbd> ;

    <cite>// open thoe output stream once, right at the beginning</cite>
    std::ofstream newfile( <kbd>"new.txt"</kbd> ) ;

    <var>for</var>( <var>int</var> file_num = 1 ; file_num &lt; NFILES ; ++file_num ) <cite>// for each onput file</cite>
    {
        std::ostringstream sum ;
        sum &lt;&lt; prefix &lt;&lt; file_num &lt;&lt; ext ;
        newfile &lt;&lt; std::ifstream( sum.str() ).rdbuf() ;

        <cite>// or if your compiler supports it:</cite>
        <cite>// newfile &lt;&lt; std::ifstream( prefix + std::to_string(file_num) + ext ).rdbuf() ;</cite>

    }
}</code></pre></td><td class="C_btnholder"><div class="C_shell"><div class="inner"><div class="btn trans_half"><a href="http://www.cplusplus.com/forum/beginner/109352/#" title="Open C++ Shell (in a new window)" target="_top"><span class="C_ico settings"></span> Edit &amp; Run</a></div></div></div></td></tr></tbody></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595626"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595633"><span title="595633,62677,1023,3957,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595633" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm2cfa90f3ac" title="Tue, 27 Aug 2013 10:51:21 +0000">Aug 27, 2013 at 6:51pm</span><script type="text/javascript">WhenId('CH_zTm2cfa90f3ac');</script><noscript>Aug 27, 2013 at 10:51am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/andywestken/"><b>andywestken</b> (3957)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595633">
<table class="quote"><tbody><tr><td class="qd">&gt; copy does support wild cards<br>
I thought that it was the shell that expands them, before passing it as arguments to the program </td></tr></tbody></table><br>
copy is a shell command, not a program, so there's no copy.exe. The copy shell command does support wild cards.<br>
<br>
xcopy.exe is program though, and it also supports wild cards.<br>
<br>
But the Windows <u>command interpreter</u> (cmd.exe, aka command prompt) isn't that helpful. And that's where system() calls end up (the system function eventually calls CreateProcess with "cmd.exe /c &lt;your command&gt;", after much faffing about with search paths, file extensions, etc.)<br>
<br>
("shell" is more often used to refer to Explorer in Windows-speak, rather than the command prompt. Though both are part of the shell in the looser sense.)<br>
<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="output"><pre><samp>C:\Test&gt;test.exe *.* *.txt test.* test?.txt
argc = 5
argv[0] = test.exe
argv[1] = *.*
argv[2] = *.txt
argv[3] = test.*
argv[4] = test?.txt</samp></pre></td></tr></tbody></table></div><br>
<br>
<div class="auto"><table class="snippet"><tbody><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>
<var>using</var> <var>namespace</var> std;

<var>int</var> main (<var>int</var> argc, <var>char</var>* argv[]) {
    cout &lt;&lt; <kbd>"argc = "</kbd> &lt;&lt; argc &lt;&lt; <kbd>"\n"</kbd>;
    <var>for</var> (<var>int</var> i = 0; i &lt; argc; ++i) {
        cout &lt;&lt; <kbd>"argv["</kbd> &lt;&lt; i &lt;&lt; <kbd>"] = "</kbd> &lt;&lt; argv[i] &lt;&lt; <kbd>"\n"</kbd>;
    }
    <var>return</var> 0;
}</code></pre></td><td class="C_btnholder"><div class="C_shell"><div class="inner"><div class="btn trans_half"><a href="http://www.cplusplus.com/forum/beginner/109352/#" title="Open C++ Shell (in a new window)" target="_top"><span class="C_ico settings"></span> Edit &amp; Run</a></div></div></div></td></tr></tbody></table></div>
<br>
<br>
Andy<br>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTme8a24ddb99" title="Tue, 27 Aug 2013 12:24:49 +0000">Aug 27, 2013 at 8:24pm</span><script type="text/javascript">WhenId('CH_zTme8a24ddb99');</script><noscript>Aug 27, 2013 at 12:24pm UTC</noscript></span>
<span class="dbtn" id="CH_btn595633"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg595992"><span title="595992,37152,1023,7971,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg595992" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm92d465516b" title="Wed, 28 Aug 2013 00:12:53 +0000">Aug 28, 2013 at 8:12am</span><script type="text/javascript">WhenId('CH_zTm92d465516b');</script><noscript>Aug 28, 2013 at 12:12am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/ne555/"><b>ne555</b> (7971)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i595992">
Just tried your example and the arguments <i>do</i> expand before being send to my program.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn595992"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596146"><span title="596146,62677,1023,3957,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596146" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm821688e0a7" title="Wed, 28 Aug 2013 11:21:45 +0000">Aug 28, 2013 at 7:21pm</span><script type="text/javascript">WhenId('CH_zTm821688e0a7');</script><noscript>Aug 28, 2013 at 11:21am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/andywestken/"><b>andywestken</b> (3957)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596146">
<table class="quote"><tbody><tr><td class="qd">Just tried your example and the arguments do expand before being send to my program. </td></tr></tbody></table><br>
Well, this thread is clearly about running an app on Windows using the standard command console, going by the mention of cmd.exe, etc.<br>
<br>
So if the behaviour you are describing is when running an app in another environment then I don't see how it is relevant other than as an aside. In which case it would be have been more helpful if you had stated which environment you were using.<br>
<br>
I did state that the behaviour I was talking about was specific to the Windows command console.<br>
<br>
Andy
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm92a3c5a538" title="Wed, 28 Aug 2013 11:21:55 +0000">Aug 28, 2013 at 7:21pm</span><script type="text/javascript">WhenId('CH_zTm92a3c5a538');</script><noscript>Aug 28, 2013 at 11:21am UTC</noscript></span>
<span class="dbtn" id="CH_btn596146"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596192"><span title="596192,37152,1023,7971,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596192" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm9780675cb4" title="Wed, 28 Aug 2013 12:39:02 +0000">Aug 28, 2013 at 8:39pm</span><script type="text/javascript">WhenId('CH_zTm9780675cb4');</script><noscript>Aug 28, 2013 at 12:39pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/ne555/"><b>ne555</b> (7971)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596192">
windows xp
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn596192"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596197"><span title="596197,62677,1023,3957,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596197" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm247d40cfd4" title="Wed, 28 Aug 2013 12:52:20 +0000">Aug 28, 2013 at 8:52pm</span><script type="text/javascript">WhenId('CH_zTm247d40cfd4');</script><noscript>Aug 28, 2013 at 12:52pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/andywestken/"><b>andywestken</b> (3957)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596197">
Ah, Ok.<br>
<br>
I happen to be using Windows XP, too. (As well as Windows 7 and Windows 8)<br>
<br>
You're prob building with GCC ??<br>
<br>
It's the CRT which is doing the expansion for you, not the command interpreter.<br>
<br>
You can persuade exes built with MSVC to do the same, by linking with setargv.obj to override the default, stupid behaviour. <br>
<br>
I didn't realised GCC defaulted in the opposite direction... (is this because it pretending that the app is running in a Bash shell or something?)<br>
<br>
Edit: I assume it's a default. But I'm finding it had to track down how to disable this behaviour. There are times when I want a program to be in control of the wild card processing.<br>
<br>
Andy<br>
<br>
Is there any way to get the windows cmd shell to expand wildcard paths?<br>
<a href="http://superuser.com/questions/460598/is-there-any-way-to-get-the-windows-cmd-shell-to-expand-wildcard-paths">http://superuser.com/questions/460598/is-there-any-way-to-get-the-windows-cmd-shell-to-expand-wildcard-paths</a><br>
<br>
To summarise: no!<br>
<br>
Expanding Wildcard Arguments<br>
<a href="http://msdn.microsoft.com/en-us/library/8bch7bkk.aspx">http://msdn.microsoft.com/en-us/library/8bch7bkk.aspx</a><br>
<br>
re. use of setargv.obj<br>
cl typeit.c /link setargv.obj
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTme655b01d54" title="Wed, 28 Aug 2013 14:22:04 +0000">Aug 28, 2013 at 10:22pm</span><script type="text/javascript">WhenId('CH_zTme655b01d54');</script><noscript>Aug 28, 2013 at 2:22pm UTC</noscript></span>
<span class="dbtn" id="CH_btn596197"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596636"><span title="596636,9110,5119,10021,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596636" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTme6171bdfd0" title="Thu, 29 Aug 2013 04:24:02 +0000">Aug 29, 2013 at 12:24pm</span><script type="text/javascript">WhenId('CH_zTme6171bdfd0');</script><noscript>Aug 29, 2013 at 4:24am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/Duoas/"><b>Duoas</b> (10021)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596636">
@<b>andywestken</b><br>
Found it.<br>
<br>
<a href="http://mingw-users.1079350.n2.nabble.com/Problems-with-expanding-wildcards-to-a-program-td1358555.html">http://mingw-users.1079350.n2.nabble.com/Problems-with-expanding-wildcards-to-a-program-td1358555.html</a><br>
<br>
To disable MinGW's automatic wildcard expansion, link <tt>CRT_noglob.o</tt> (found in ~/lib) with your program.<br>
<br>
:O)
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn596636"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596642"><span title="596642,106379,1023,3750,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596642" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm4ca1a04fb3" title="Thu, 29 Aug 2013 04:38:19 +0000">Aug 29, 2013 at 12:38pm</span><script type="text/javascript">WhenId('CH_zTm4ca1a04fb3');</script><noscript>Aug 29, 2013 at 4:38am UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/giblit/"><b>giblit</b> (3750)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596642">
I don't think anyone else mentioned this but it is <b>int</b> main and not <del>void</del>main.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn596642"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596815"><span title="596815,62677,1023,3957,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596815" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm1ce29310ff" title="Thu, 29 Aug 2013 13:46:41 +0000">Aug 29, 2013 at 9:46pm</span><script type="text/javascript">WhenId('CH_zTm1ce29310ff');</script><noscript>Aug 29, 2013 at 1:46pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/andywestken/"><b>andywestken</b> (3957)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596815">
@Duoas<br>
<br>
Thanks -- something to file away for possible future use.<br>
<br>
Andy
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn596815"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg596898"><span title="596898,9110,5119,10021,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="http://www.cplusplus.com/forum/beginner/109352/#msg596898" title="Link to this post"><img src="./How to use the system command - C++ Forum_files/link.png" width="16" height="8"></a> <span id="CH_zTm11c37965f9" title="Thu, 29 Aug 2013 16:13:04 +0000">Aug 30, 2013 at 12:13am</span><script type="text/javascript">WhenId('CH_zTm11c37965f9');</script><noscript>Aug 29, 2013 at 4:13pm UTC</noscript></div>
<div class="dwho"><a href="http://www.cplusplus.com/user/Duoas/"><b>Duoas</b> (10021)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i596898">
I actually had to find this thread because you had said something about it, because I'm using it right now.<br>
<br>
I'm messing with an old program I wrote that accepts MS-style help requests (<tt>foo /?</tt>), but that was failing, and when I printed out the value of <tt>argv[1]</tt> it was giving me the one root file with a single letter...<br>
<br>
And I was confused, because I knew the shell did not do command-line argument expansion...<br>
<br>
So now that I've learned how to fix it I can compile properly. :O)
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn596898"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(109352,1,89544,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','/forum/thread.cgi','/forum/post.cgi','/forum/myposts.cgi',64,32,512,256,1024,16);</script></div>
<script type="text/javascript">
    google_ad_client = "ca-pub-1444228343479937";
    google_ad_slot = "9701143201";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- leaderboard -->
<script type="text/javascript" src="./How to use the system command - C++ Forum_files/show_ads.js">
</script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe width="728" height="90" frameborder="0" scrolling="no" allowtransparency="true" src="./How to use the system command - C++ Forum_files/restricted(1).html"></iframe></ins></ins></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="http://www.cplusplus.com/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="http://www.cplusplus.com/info/">Information</a></li>
<li class="folder doc"><a href="http://www.cplusplus.com/doc/">Tutorials</a></li>
<li class="folder reference"><a href="http://www.cplusplus.com/reference/">Reference</a></li>
<li class="folder articles"><a href="http://www.cplusplus.com/articles/">Articles</a></li>
<li class="folder selected forum"><a href="http://www.cplusplus.com/forum/">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="http://www.cplusplus.com/forum/">Forum</a></b></h3>
<ul>
<li class="selected"><a href="http://www.cplusplus.com/forum/beginner/"><b>Beginners</b></a></li><li><a href="http://www.cplusplus.com/forum/windows/"><b>Windows Programming</b></a></li><li><a href="http://www.cplusplus.com/forum/unices/"><b>UNIX/Linux Programming</b></a></li><li><a href="http://www.cplusplus.com/forum/general/"><b>General C++ Programming</b></a></li><li><a href="http://www.cplusplus.com/forum/lounge/"><b>Lounge</b></a></li><li><a href="http://www.cplusplus.com/forum/jobs/"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript" src="./How to use the system command - C++ Forum_files/show_ads.js">
</script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:234px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:234px;background-color:transparent"><iframe width="234" height="60" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="http://www.cplusplus.com/">Home page</a> | <a href="http://www.cplusplus.com/privacy.do">Privacy policy</a><br>© cplusplus.com, 2000-2015 - All rights reserved - <i>v3.1</i><br><a href="http://www.cplusplus.com/contact.do?referrer=www.cplusplus.com%2Fforum%2Fbeginner%2F109352%2F">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="/user/">'+us.user+'</a></b></h3><ul><li><a href="/forum/myposts.cgi">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script><iframe src="./How to use the system command - C++ Forum_files/container.html" style="visibility: hidden; display: none;"></iframe>


</body></html>